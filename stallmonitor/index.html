<html lang="en">
<head>
  <link rel="icon" type="image/png" href="favicon.png">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="theme-color" content="#4285f4">
  <meta charset="utf-8">   

  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="js/lib/jquery.js"> </script>
  <script src="js/lib/underscore.js"></script>
 
  <!--bootstrap-->
  <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>

  <!-- AngularJS -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>

  <!-- Firebase -->
  <script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>

  <!-- Angular Material -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-animate.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-aria.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular-messages.min.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0-rc7/angular-material.min.js"></script>

  <!-- Angular Material style sheet -->
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.0.0-rc5/angular-material.min.css">

  <!-- AngularFire -->
  <script src="https://cdn.firebase.com/libs/angularfire/1.1.3/angularfire.min.js"></script>

  <title>Occupy Stall St</title>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" type="text/css" href="css/vendor/bootstrap.min.css" />

  <!-- Paper CSS here -->
  <link href="css/vendor/ripples.min.css" rel="stylesheet">
  <link href="css/vendor/material-wfont.min.css" rel="stylesheet">

  <!-- Our Styles -->
  <link href="css/master.css" rel="stylesheet">
</head>

<body unresolved ng-app="mainView" ng-controller="mainViewCtrl">

  <div class="navbar navbar-default">
    <div class="navbar-header">
      <a class="navbar-brand large-font" href="#">Occupy Stall Street</a>
    </div>
  </div>

  <div class="floor-container" ng-repeat='(floorName, floor) in floors'>
    <h2><strong>Floor {{floorName}}</strong></h2>
    <div ng-repeat='(bathroomName, bathroom) in floor' class="bathroom-container">
      <h3>{{bathroomName}}</h3>
      <div class="notification-container">

       <a href="#" class="btn notification-button" ng-click="showInput = !showInput">
        <img src="images/notification-icon.png" class="notification-icon">
        <md-tooltip md-direction="right">
          Notify Me!
        </md-tooltip>
       </a> 
        
        <md-content layout-padding ng-show="showInput" class="notification-form-container">
          <form ng-submit="notifySubmit(floorName, bathroomName)" class="notification-form">
            <!--<input name="notify.email" type="text" ng-model="notify.email" ng-blur="showInput = false" placeholder="email or phone" class="notification-input"/>
            -->
            <md-input-container class="md-block notification-input" flex-gt-sm ng-submit="notifySubmit(floorName, bathroomName)">
              <label class="notification-input-label">Email or Phone</label>
              <input name="notify.email" ng-model="notify.email"  ng-blur="showInput = false" class="notification-input">
            </md-input-container>
          </form>
        </md-content>
      </div>

      <div ng-repeat='(stallName, stall) in bathroom.spaces'>
        <a href="#"
           ng-class="{'btn-primary': !stall.occupied && stall.active, 'btn-danger': stall.occupied && stall.active}"
           class="btn btn-raised space-container">
           <strong ng-if="stall.active">{{stallName}}</strong>
           <strong ng-if="!stall.active">?</strong>
        </a>
      </div>
    </div>
  </div>

  <!-- Paper Design -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <script src="js/lib/ripples.min.js"></script>
  <script src="js/lib/material.min.js"></script>
  <script>
      $(document).ready(function() {
          $.material.init();
      });
  </script>

  <!-- Main App -->
  <script src="js/modules/main-view.js"></script>

</body>
</html>
